{
   "__inputs": [ ],
   "__requires": [ ],
   "annotations": {
      "list": [ ]
   },
   "editable": true,
   "gnetId": null,
   "graphTooltip": 1,
   "hideControls": false,
   "id": null,
   "links": [
      {
         "asDropdown": true,
         "icon": "doc",
         "includeVars": false,
         "keepTime": false,
         "tags": [ ],
         "targetBlank": false,
         "title": "Logs",
         "type": "link",
         "url": "/explore?orgId=1&left=%5B%22now-7d%22,%22now%22,%22$datasource_logs%22,%7B%22expr%22:%22%7Bnamespace%3D%5C%22kube-system%5C%22,%20stream%3D%5C%22stderr%5C%22%7D%20%7C~%20%5C%22(%3Fi)error%5C%22%20!~%20%5C%22Final%20error%20received,%20removing%20PVC%20.%2B%20from%20claims%20in%20progress%5C%22%22%7D,%7B%22mode%22:%22Logs%22%7D,%7B%22ui%22:%5Btrue,true,true,%22numbers%22%5D%7D%5D"
      },
      {
         "asDropdown": true,
         "icon": "cloud",
         "includeVars": false,
         "keepTime": false,
         "tags": [ ],
         "targetBlank": true,
         "title": "dNation - Making Cloud Easy",
         "type": "link",
         "url": "https://www.dNation.cloud/"
      }
   ],
   "panels": [
      {
         "collapse": false,
         "collapsed": false,
         "gridPos": {
            "h": 1,
            "w": 24,
            "x": 0,
            "y": 0
         },
         "id": 2,
         "panels": [ ],
         "repeat": null,
         "repeatIteration": null,
         "repeatRowId": null,
         "showTitle": true,
         "title": "Alerts",
         "titleSize": "h6",
         "type": "row"
      },
      {
         "datasource": "$alertmanager",
         "fieldConfig": {
            "defaults": {
               "links": [
                  {
                     "title": "K8s Overview",
                     "url": "/d/alertclusteroverview?var-alertmanager=$alertmanager&var-severity=critical&var-alertgroup=Cluster&var-alertgroup=ClusterApp&refresh=10s&var-datasource=$datasource&var-cluster=$cluster|&from=$__from&to=$__to"
                  }
               ],
               "mappings": [ ],
               "thresholds": {
                  "mode": "absolute",
                  "steps": [
                     {
                        "color": "#56a64b",
                        "value": null
                     },
                     {
                        "color": "#e02f44",
                        "value": 1
                     }
                  ]
               },
               "unit": "none"
            }
         },
         "gridPos": {
            "h": 3,
            "w": 12,
            "x": 0,
            "y": 1
         },
         "id": 3,
         "links": [ ],
         "options": {
            "colorMode": "background",
            "graphMode": "none",
            "justifyMode": "auto",
            "orientation": "auto",
            "reduceOptions": {
               "calcs": [
                  "mean"
               ],
               "fields": "",
               "values": false
            }
         },
         "pluginVersion": "7",
         "targets": [
            {
               "expr": "ALERTS{alertname!=\"Watchdog\", severity=\"critical\", alertgroup=~\"Cluster|ClusterApp\"}",
               "refId": "A",
               "type": "single"
            }
         ],
         "title": "Critical",
         "transparent": false,
         "type": "stat"
      },
      {
         "datasource": "$alertmanager",
         "fieldConfig": {
            "defaults": {
               "links": [
                  {
                     "title": "K8s Overview",
                     "url": "/d/alertclusteroverview?var-alertmanager=$alertmanager&var-severity=warning&var-alertgroup=Cluster&var-alertgroup=ClusterApp&refresh=10s&var-datasource=$datasource&var-cluster=$cluster|&from=$__from&to=$__to"
                  }
               ],
               "mappings": [ ],
               "thresholds": {
                  "mode": "absolute",
                  "steps": [
                     {
                        "color": "#56a64b",
                        "value": null
                     },
                     {
                        "color": "#ff780a",
                        "value": 1
                     }
                  ]
               },
               "unit": "none"
            }
         },
         "gridPos": {
            "h": 3,
            "w": 12,
            "x": 12,
            "y": 1
         },
         "id": 4,
         "links": [ ],
         "options": {
            "colorMode": "background",
            "graphMode": "none",
            "justifyMode": "auto",
            "orientation": "auto",
            "reduceOptions": {
               "calcs": [
                  "mean"
               ],
               "fields": "",
               "values": false
            }
         },
         "pluginVersion": "7",
         "targets": [
            {
               "expr": "ALERTS{alertname!=\"Watchdog\", severity=\"warning\", alertgroup=~\"Cluster|ClusterApp\"}",
               "refId": "A",
               "type": "single"
            }
         ],
         "title": "Warning",
         "transparent": false,
         "type": "stat"
      },
      {
         "collapse": false,
         "collapsed": false,
         "gridPos": {
            "h": 1,
            "w": 24,
            "x": 0,
            "y": 4
         },
         "id": 5,
         "panels": [ ],
         "repeat": null,
         "repeatIteration": null,
         "repeatRowId": null,
         "showTitle": true,
         "title": "Overview",
         "titleSize": "h6",
         "type": "row"
      },
      {
         "collapse": false,
         "collapsed": false,
         "gridPos": {
            "h": 1,
            "w": 24,
            "x": 0,
            "y": 11
         },
         "id": 6,
         "panels": [ ],
         "repeat": null,
         "repeatIteration": null,
         "repeatRowId": null,
         "showTitle": true,
         "title": "Control Plane Components Health",
         "titleSize": "h6",
         "type": "row"
      },
      {
         "collapse": false,
         "collapsed": false,
         "gridPos": {
            "h": 1,
            "w": 24,
            "x": 0,
            "y": 15
         },
         "id": 7,
         "panels": [ ],
         "repeat": null,
         "repeatIteration": null,
         "repeatRowId": null,
         "showTitle": true,
         "title": "Node Metrics (including Master)",
         "titleSize": "h6",
         "type": "row"
      },
      {
         "content": "",
         "datasource": null,
         "gridPos": {
            "h": 1,
            "w": 6,
            "x": 0,
            "y": 16
         },
         "id": 8,
         "mode": "markdown",
         "title": "CPU",
         "type": "text"
      },
      {
         "content": "",
         "datasource": null,
         "gridPos": {
            "h": 1,
            "w": 6,
            "x": 6,
            "y": 16
         },
         "id": 9,
         "mode": "markdown",
         "title": "RAM",
         "type": "text"
      },
      {
         "content": "",
         "datasource": null,
         "gridPos": {
            "h": 1,
            "w": 6,
            "x": 12,
            "y": 16
         },
         "id": 10,
         "mode": "markdown",
         "title": "Disk",
         "type": "text"
      },
      {
         "content": "",
         "datasource": null,
         "gridPos": {
            "h": 1,
            "w": 6,
            "x": 18,
            "y": 16
         },
         "id": 11,
         "mode": "markdown",
         "title": "Network",
         "type": "text"
      },
      {
         "datasource": "$datasource",
         "description": "\n\nK8s monitoring template: _apiServerHealth_",
         "fieldConfig": {
            "defaults": {
               "links": [
                  {
                     "title": "K8s Overview",
                     "url": "/d/apiserver?refresh=10s&var-datasource=$datasource&var-cluster=$cluster|&from=$__from&to=$__to"
                  }
               ],
               "mappings": [ ],
               "thresholds": {
                  "mode": "absolute",
                  "steps": [
                     {
                        "color": "#e02f44",
                        "value": null
                     },
                     {
                        "color": "#ff780a",
                        "value": 95
                     },
                     {
                        "color": "#56a64b",
                        "value": 99
                     }
                  ]
               },
               "unit": "percent"
            }
         },
         "gridPos": {
            "h": 3,
            "w": 4,
            "x": 0,
            "y": 12
         },
         "id": 12,
         "links": [ ],
         "options": {
            "colorMode": "background",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "auto",
            "reduceOptions": {
               "calcs": [
                  "mean"
               ],
               "fields": "",
               "values": false
            }
         },
         "pluginVersion": "7",
         "targets": [
            {
               "expr": "(sum(up{cluster=~\"$cluster|\", job=\"apiserver\"}) / count(up{cluster=~\"$cluster|\", job=\"apiserver\"})) * 100",
               "format": "time_series",
               "intervalFactor": 2,
               "legendFormat": "",
               "refId": "A"
            }
         ],
         "title": "API Server",
         "transparent": false,
         "type": "stat"
      },
      {
         "datasource": "$datasource",
         "description": "\n\nK8s monitoring template: _controllerManagerHealth_",
         "fieldConfig": {
            "defaults": {
               "links": [
                  {
                     "title": "K8s Overview",
                     "url": "/d/controllermanager?refresh=10s&var-datasource=$datasource&var-cluster=$cluster|&from=$__from&to=$__to"
                  }
               ],
               "mappings": [ ],
               "thresholds": {
                  "mode": "absolute",
                  "steps": [
                     {
                        "color": "#e02f44",
                        "value": null
                     },
                     {
                        "color": "#ff780a",
                        "value": 95
                     },
                     {
                        "color": "#56a64b",
                        "value": 99
                     }
                  ]
               },
               "unit": "percent"
            }
         },
         "gridPos": {
            "h": 3,
            "w": 4,
            "x": 4,
            "y": 12
         },
         "id": 13,
         "links": [ ],
         "options": {
            "colorMode": "background",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "auto",
            "reduceOptions": {
               "calcs": [
                  "mean"
               ],
               "fields": "",
               "values": false
            }
         },
         "pluginVersion": "7",
         "targets": [
            {
               "expr": "(sum(up{cluster=~\"$cluster|\", job=\"kube-controller-manager\"}) / count(up{cluster=~\"$cluster|\", job=\"kube-controller-manager\"})) * 100",
               "format": "time_series",
               "intervalFactor": 2,
               "legendFormat": "",
               "refId": "A"
            }
         ],
         "title": "Controller Manager",
         "transparent": false,
         "type": "stat"
      },
      {
         "datasource": "$datasource",
         "description": "\n\nK8s monitoring template: _daemonSetsHealth_",
         "fieldConfig": {
            "defaults": {
               "links": [
                  {
                     "title": "K8s Overview",
                     "url": "/d/daemonsetoverview?refresh=10s&var-datasource=$datasource&var-cluster=$cluster|&from=$__from&to=$__to"
                  }
               ],
               "mappings": [ ],
               "thresholds": {
                  "mode": "absolute",
                  "steps": [
                     {
                        "color": "#e02f44",
                        "value": null
                     },
                     {
                        "color": "#ff780a",
                        "value": 95
                     },
                     {
                        "color": "#56a64b",
                        "value": 99
                     }
                  ]
               },
               "unit": "percent"
            }
         },
         "gridPos": {
            "h": 3,
            "w": 6,
            "x": 6,
            "y": 8
         },
         "id": 14,
         "links": [ ],
         "options": {
            "colorMode": "background",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "auto",
            "reduceOptions": {
               "calcs": [
                  "mean"
               ],
               "fields": "",
               "values": false
            }
         },
         "pluginVersion": "7",
         "targets": [
            {
               "expr": "round((sum(kube_daemonset_updated_number_scheduled{cluster=~\"$cluster|\"}) + sum(kube_daemonset_status_number_available{cluster=~\"$cluster|\"})) / (2 * sum(kube_daemonset_status_desired_number_scheduled{cluster=~\"$cluster|\"})) * 100)",
               "format": "time_series",
               "intervalFactor": 2,
               "legendFormat": "",
               "refId": "A"
            }
         ],
         "title": "DaemonSets Health",
         "transparent": false,
         "type": "stat"
      },
      {
         "datasource": "$datasource",
         "description": "\n\nK8s monitoring template: _deploymentsHealth_",
         "fieldConfig": {
            "defaults": {
               "links": [
                  {
                     "title": "K8s Overview",
                     "url": "/d/deploymentoverview?refresh=10s&var-datasource=$datasource&var-cluster=$cluster|&from=$__from&to=$__to"
                  }
               ],
               "mappings": [ ],
               "thresholds": {
                  "mode": "absolute",
                  "steps": [
                     {
                        "color": "#e02f44",
                        "value": null
                     },
                     {
                        "color": "#ff780a",
                        "value": 95
                     },
                     {
                        "color": "#56a64b",
                        "value": 99
                     }
                  ]
               },
               "unit": "percent"
            }
         },
         "gridPos": {
            "h": 3,
            "w": 6,
            "x": 0,
            "y": 8
         },
         "id": 15,
         "links": [ ],
         "options": {
            "colorMode": "background",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "auto",
            "reduceOptions": {
               "calcs": [
                  "mean"
               ],
               "fields": "",
               "values": false
            }
         },
         "pluginVersion": "7",
         "targets": [
            {
               "expr": "round((sum(kube_deployment_status_replicas_updated{cluster=~\"$cluster|\"}) + sum(kube_deployment_status_replicas_available{cluster=~\"$cluster|\"})) / (2 * sum(kube_deployment_status_replicas{cluster=~\"$cluster|\"})) * 100)",
               "format": "time_series",
               "intervalFactor": 2,
               "legendFormat": "",
               "refId": "A"
            }
         ],
         "title": "Deployments Health",
         "transparent": false,
         "type": "stat"
      },
      {
         "datasource": "$datasource",
         "description": "\n\nK8s monitoring template: _etcdHealth_",
         "fieldConfig": {
            "defaults": {
               "links": [
                  {
                     "title": "K8s Overview",
                     "url": "/d/etcd?refresh=10s&var-datasource=$datasource&var-cluster=$cluster|&from=$__from&to=$__to"
                  }
               ],
               "mappings": [ ],
               "thresholds": {
                  "mode": "absolute",
                  "steps": [
                     {
                        "color": "#e02f44",
                        "value": null
                     },
                     {
                        "color": "#ff780a",
                        "value": 95
                     },
                     {
                        "color": "#56a64b",
                        "value": 99
                     }
                  ]
               },
               "unit": "percent"
            }
         },
         "gridPos": {
            "h": 3,
            "w": 4,
            "x": 8,
            "y": 12
         },
         "id": 16,
         "links": [ ],
         "options": {
            "colorMode": "background",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "auto",
            "reduceOptions": {
               "calcs": [
                  "mean"
               ],
               "fields": "",
               "values": false
            }
         },
         "pluginVersion": "7",
         "targets": [
            {
               "expr": "(sum(up{cluster=~\"$cluster|\", job=\"kube-etcd\"}) / count(up{cluster=~\"$cluster|\", job=\"kube-etcd\"})) * 100",
               "format": "time_series",
               "intervalFactor": 2,
               "legendFormat": "",
               "refId": "A"
            }
         ],
         "title": "Etcd",
         "transparent": false,
         "type": "stat"
      },
      {
         "datasource": "$datasource",
         "description": "\n\nK8s monitoring template: _kubeletHealth_",
         "fieldConfig": {
            "defaults": {
               "links": [
                  {
                     "title": "K8s Overview",
                     "url": "/d/kubelet?refresh=10s&var-datasource=$datasource&var-cluster=$cluster|&from=$__from&to=$__to"
                  }
               ],
               "mappings": [ ],
               "thresholds": {
                  "mode": "absolute",
                  "steps": [
                     {
                        "color": "#e02f44",
                        "value": null
                     },
                     {
                        "color": "#ff780a",
                        "value": 95
                     },
                     {
                        "color": "#56a64b",
                        "value": 99
                     }
                  ]
               },
               "unit": "percent"
            }
         },
         "gridPos": {
            "h": 3,
            "w": 4,
            "x": 12,
            "y": 12
         },
         "id": 17,
         "links": [ ],
         "options": {
            "colorMode": "background",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "auto",
            "reduceOptions": {
               "calcs": [
                  "mean"
               ],
               "fields": "",
               "values": false
            }
         },
         "pluginVersion": "7",
         "targets": [
            {
               "expr": "(sum(up{cluster=~\"$cluster|\", job=\"kubelet\", metrics_path=\"/metrics\"}) / count(up{cluster=~\"$cluster|\", job=\"kubelet\", metrics_path=\"/metrics\"})) * 100",
               "format": "time_series",
               "intervalFactor": 2,
               "legendFormat": "",
               "refId": "A"
            }
         ],
         "title": "Kubelet",
         "transparent": false,
         "type": "stat"
      },
      {
         "datasource": "$datasource",
         "description": "\n\nK8s monitoring template: _mostUtilizedNodeCPU_",
         "fieldConfig": {
            "defaults": {
               "links": [
                  {
                     "title": "System Overview",
                     "url": "/d/cpuoverview?refresh=10s&var-datasource=$datasource&var-cluster=$cluster|&from=$__from&to=$__to&var-instance=All"
                  },
                  {
                     "title": "K8s Overview",
                     "url": "/d/cpunamespaceoverview?refresh=10s&var-datasource=$datasource&var-cluster=$cluster|&from=$__from&to=$__to"
                  }
               ],
               "mappings": [ ],
               "thresholds": {
                  "mode": "absolute",
                  "steps": [
                     {
                        "color": "#56a64b",
                        "value": null
                     },
                     {
                        "color": "#ff780a",
                        "value": 75
                     },
                     {
                        "color": "#e02f44",
                        "value": 90
                     }
                  ]
               },
               "unit": "percent"
            }
         },
         "gridPos": {
            "h": 3,
            "w": 3,
            "x": 3,
            "y": 17
         },
         "id": 18,
         "links": [ ],
         "options": {
            "colorMode": "background",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "auto",
            "reduceOptions": {
               "calcs": [
                  "mean"
               ],
               "fields": "",
               "values": false
            }
         },
         "pluginVersion": "7",
         "targets": [
            {
               "expr": "max(round((1 - (avg(irate(node_cpu_seconds_total{cluster=~\"$cluster|\", job=~\"$job\", mode=\"idle\"}[5m]) * on(instance) group_left(nodename) (node_uname_info)) by (job, nodename) )) * 100))",
               "format": "time_series",
               "intervalFactor": 2,
               "legendFormat": "",
               "refId": "A"
            }
         ],
         "title": "Most Utilized Node",
         "transparent": false,
         "type": "stat"
      },
      {
         "datasource": "$datasource",
         "description": "The percentage of the disk utilization is calculated using the fraction:\n```\n<space used>/(<space used> + <space free>)\n```\nThe value of <space free> is reduced by  5% of the available disk capacity, because   \nthe file system marks 5% of the available disk capacity as reserved. \nIf less than 5% is free, using the remaining reserved space requires root privileges.\nAny non-privileged users and processes are unable to write new data to the partition. See the list of explicitly ignored mount points and file systems [here](https://github.com/dNationCloud/kubernetes-monitoring-stack/blob/main/chart/values.yaml)\n\nK8s monitoring template: _mostUtilizedNodeDisk_",
         "fieldConfig": {
            "defaults": {
               "links": [
                  {
                     "title": "System Overview",
                     "url": "/d/diskoverview?refresh=10s&var-datasource=$datasource&var-cluster=$cluster|&from=$__from&to=$__to&var-instance=All"
                  }
               ],
               "mappings": [ ],
               "thresholds": {
                  "mode": "absolute",
                  "steps": [
                     {
                        "color": "#56a64b",
                        "value": null
                     },
                     {
                        "color": "#ff780a",
                        "value": 75
                     },
                     {
                        "color": "#e02f44",
                        "value": 90
                     }
                  ]
               },
               "unit": "percent"
            }
         },
         "gridPos": {
            "h": 3,
            "w": 3,
            "x": 15,
            "y": 17
         },
         "id": 19,
         "links": [ ],
         "options": {
            "colorMode": "background",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "auto",
            "reduceOptions": {
               "calcs": [
                  "mean"
               ],
               "fields": "",
               "values": false
            }
         },
         "pluginVersion": "7",
         "targets": [
            {
               "expr": "max(round((sum(node_filesystem_size_bytes{cluster=~\"$cluster|\", job=~\"$job\"} * on(instance) group_left(nodename) (node_uname_info)) by (job, nodename, device) - sum(node_filesystem_free_bytes{cluster=~\"$cluster|\", job=~\"$job\"} * on(instance) group_left(nodename) (node_uname_info)) by (job, nodename, device)) / ((sum(node_filesystem_size_bytes{cluster=~\"$cluster|\", job=~\"$job\"} * on(instance) group_left(nodename) (node_uname_info)) by (job, nodename, device) - sum(node_filesystem_free_bytes{cluster=~\"$cluster|\", job=~\"$job\"} * on(instance) group_left(nodename) (node_uname_info)) by (job, nodename, device)) + sum(node_filesystem_avail_bytes{cluster=~\"$cluster|\", job=~\"$job\"} * on(instance) group_left(nodename) (node_uname_info)) by (job, nodename, device)) * 100))",
               "format": "time_series",
               "intervalFactor": 2,
               "legendFormat": "",
               "refId": "A"
            }
         ],
         "title": "Most Utilized Node",
         "transparent": false,
         "type": "stat"
      },
      {
         "datasource": "$datasource",
         "description": "\n\nK8s monitoring template: _mostUtilizedNodeNetworkErrors_",
         "fieldConfig": {
            "defaults": {
               "links": [
                  {
                     "title": "System Overview",
                     "url": "/d/networkoverview?refresh=10s&var-datasource=$datasource&var-cluster=$cluster|&from=$__from&to=$__to&var-instance=All"
                  },
                  {
                     "title": "K8s Overview",
                     "url": "/d/networknamespaceoverview?refresh=10s&var-datasource=$datasource&var-cluster=$cluster|&from=$__from&to=$__to"
                  }
               ],
               "mappings": [ ],
               "thresholds": {
                  "mode": "absolute",
                  "steps": [
                     {
                        "color": "#56a64b",
                        "value": null
                     },
                     {
                        "color": "#ff780a",
                        "value": 10
                     },
                     {
                        "color": "#e02f44",
                        "value": 15
                     }
                  ]
               },
               "unit": "pps"
            }
         },
         "gridPos": {
            "h": 3,
            "w": 3,
            "x": 21,
            "y": 17
         },
         "id": 20,
         "links": [ ],
         "options": {
            "colorMode": "background",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "auto",
            "reduceOptions": {
               "calcs": [
                  "mean"
               ],
               "fields": "",
               "values": false
            }
         },
         "pluginVersion": "7",
         "targets": [
            {
               "expr": "max(sum(rate(node_network_transmit_errs_total{cluster=~\"$cluster|\", job=~\"$job\", device!~\"lo|veth.+|docker.+|flannel.+|cali.+|cbr.|cni.+|br.+\"} [5m]) * on(instance) group_left(nodename) (node_uname_info) ) by (job, nodename) + sum(rate(node_network_receive_errs_total{cluster=~\"$cluster|\", job=~\"$job\", device!~\"lo|veth.+|docker.+|flannel.+|cali.+|cbr.|cni.+|br.+\"}[5m]) * on(instance) group_left(nodename) (node_uname_info) ) by (job, nodename))",
               "format": "time_series",
               "intervalFactor": 2,
               "legendFormat": "",
               "refId": "A"
            }
         ],
         "title": "Most Affected Node",
         "transparent": false,
         "type": "stat"
      },
      {
         "datasource": "$datasource",
         "description": "The percentage of the memory utilization is calculated by:\n```\n1 - (<memory available>/<memory total>)\n```\n\nK8s monitoring template: _mostUtilizedNodeRAM_",
         "fieldConfig": {
            "defaults": {
               "links": [
                  {
                     "title": "System Overview",
                     "url": "/d/memoryoverview?refresh=10s&var-datasource=$datasource&var-cluster=$cluster|&from=$__from&to=$__to&var-instance=All"
                  },
                  {
                     "title": "K8s Overview",
                     "url": "/d/memorynamespaceoverview?refresh=10s&var-datasource=$datasource&var-cluster=$cluster|&from=$__from&to=$__to"
                  }
               ],
               "mappings": [ ],
               "thresholds": {
                  "mode": "absolute",
                  "steps": [
                     {
                        "color": "#56a64b",
                        "value": null
                     },
                     {
                        "color": "#ff780a",
                        "value": 75
                     },
                     {
                        "color": "#e02f44",
                        "value": 90
                     }
                  ]
               },
               "unit": "percent"
            }
         },
         "gridPos": {
            "h": 3,
            "w": 3,
            "x": 9,
            "y": 17
         },
         "id": 21,
         "links": [ ],
         "options": {
            "colorMode": "background",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "auto",
            "reduceOptions": {
               "calcs": [
                  "mean"
               ],
               "fields": "",
               "values": false
            }
         },
         "pluginVersion": "7",
         "targets": [
            {
               "expr": "max(round((1 - sum by (job, nodename) (node_memory_MemAvailable_bytes{cluster=~\"$cluster|\", job=~\"$job\"} * on(instance) group_left(nodename) (node_uname_info)) / sum by (job, nodename) (node_memory_MemTotal_bytes{cluster=~\"$cluster|\", job=~\"$job\"} * on(instance) group_left(nodename) (node_uname_info))) * 100))",
               "format": "time_series",
               "intervalFactor": 2,
               "legendFormat": "",
               "refId": "A"
            }
         ],
         "title": "Most Utilized Node",
         "transparent": false,
         "type": "stat"
      },
      {
         "datasource": "$datasource",
         "description": "\n\nK8s monitoring template: _mostUtilizedPVC_",
         "fieldConfig": {
            "defaults": {
               "links": [
                  {
                     "title": "K8s Overview",
                     "url": "/d/pvcoverview?refresh=10s&var-datasource=$datasource&var-cluster=$cluster|&from=$__from&to=$__to"
                  }
               ],
               "mappings": [
                  {
                     "id": 0,
                     "text": "-",
                     "type": 1,
                     "value": -1
                  }
               ],
               "thresholds": {
                  "mode": "absolute",
                  "steps": [
                     {
                        "color": "#000000",
                        "value": null
                     },
                     {
                        "color": "#56a64b",
                        "value": 0
                     },
                     {
                        "color": "#ff780a",
                        "value": 85
                     },
                     {
                        "color": "#e02f44",
                        "value": 97
                     }
                  ]
               },
               "unit": "percent"
            }
         },
         "gridPos": {
            "h": 3,
            "w": 3,
            "x": 21,
            "y": 8
         },
         "id": 22,
         "links": [ ],
         "options": {
            "colorMode": "background",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "auto",
            "reduceOptions": {
               "calcs": [
                  "mean"
               ],
               "fields": "",
               "values": false
            }
         },
         "pluginVersion": "7",
         "targets": [
            {
               "expr": "max(sum(((kubelet_volume_stats_capacity_bytes{cluster=~\"$cluster|\"} - kubelet_volume_stats_available_bytes{cluster=~\"$cluster|\"}) / kubelet_volume_stats_capacity_bytes{cluster=~\"$cluster|\"}) * 100) by (persistentvolumeclaim)) OR on() vector(-1)",
               "format": "time_series",
               "intervalFactor": 2,
               "legendFormat": "",
               "refId": "A"
            }
         ],
         "title": "Most Utilized PVC",
         "transparent": false,
         "type": "stat"
      },
      {
         "datasource": "$datasource",
         "description": "\n\nK8s monitoring template: _nodeHealth_",
         "fieldConfig": {
            "defaults": {
               "links": [
                  {
                     "title": "K8s Overview",
                     "url": "/d/nodeoverview?refresh=10s&var-datasource=$datasource&var-cluster=$cluster|&from=$__from&to=$__to"
                  }
               ],
               "mappings": [ ],
               "thresholds": {
                  "mode": "absolute",
                  "steps": [
                     {
                        "color": "#e02f44",
                        "value": null
                     },
                     {
                        "color": "#ff780a",
                        "value": 95
                     },
                     {
                        "color": "#56a64b",
                        "value": 99
                     }
                  ]
               },
               "unit": "percent"
            }
         },
         "gridPos": {
            "h": 3,
            "w": 6,
            "x": 0,
            "y": 5
         },
         "id": 23,
         "links": [ ],
         "options": {
            "colorMode": "background",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "auto",
            "reduceOptions": {
               "calcs": [
                  "mean"
               ],
               "fields": "",
               "values": false
            }
         },
         "pluginVersion": "7",
         "targets": [
            {
               "expr": "round(sum(kube_node_info{cluster=~\"$cluster|\"}) / (sum(kube_node_info{cluster=~\"$cluster|\"}) + sum(kube_node_spec_unschedulable{cluster=~\"$cluster|\"}) + sum(kube_node_status_condition{cluster=~\"$cluster|\", condition=~\"DiskPressure|MemoryPressure|PIDPressure\", status=~\"true|unknown\"})  + sum(kube_node_status_condition{cluster=~\"$cluster|\", condition=\"Ready\", status=~\"false|unknown\"}) ) * 100)",
               "format": "time_series",
               "intervalFactor": 2,
               "legendFormat": "",
               "refId": "A"
            }
         ],
         "title": "Nodes Health",
         "transparent": false,
         "type": "stat"
      },
      {
         "datasource": "$datasource",
         "description": "\n\nK8s monitoring template: _overallNetworkErrors_",
         "fieldConfig": {
            "defaults": {
               "links": [
                  {
                     "title": "System Overview",
                     "url": "/d/networkoverview?refresh=10s&var-datasource=$datasource&var-cluster=$cluster|&from=$__from&to=$__to&var-instance=All"
                  },
                  {
                     "title": "K8s Overview",
                     "url": "/d/networknamespaceoverview?refresh=10s&var-datasource=$datasource&var-cluster=$cluster|&from=$__from&to=$__to"
                  }
               ],
               "mappings": [ ],
               "thresholds": {
                  "mode": "absolute",
                  "steps": [
                     {
                        "color": "#56a64b",
                        "value": null
                     },
                     {
                        "color": "#ff780a",
                        "value": 10
                     },
                     {
                        "color": "#e02f44",
                        "value": 15
                     }
                  ]
               },
               "unit": "pps"
            }
         },
         "gridPos": {
            "h": 3,
            "w": 3,
            "x": 18,
            "y": 17
         },
         "id": 24,
         "links": [ ],
         "options": {
            "colorMode": "background",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "auto",
            "reduceOptions": {
               "calcs": [
                  "mean"
               ],
               "fields": "",
               "values": false
            }
         },
         "pluginVersion": "7",
         "targets": [
            {
               "expr": "sum(sum(rate(node_network_transmit_errs_total{cluster=~\"$cluster|\", job=~\"$job\", device!~\"lo|veth.+|docker.+|flannel.+|cali.+|cbr.|cni.+|br.+\"} [5m]) * on(instance) group_left(nodename) (node_uname_info) ) by (job, nodename) + sum(rate(node_network_receive_errs_total{cluster=~\"$cluster|\", job=~\"$job\", device!~\"lo|veth.+|docker.+|flannel.+|cali.+|cbr.|cni.+|br.+\"}[5m]) * on(instance) group_left(nodename) (node_uname_info) ) by (job, nodename))",
               "format": "time_series",
               "intervalFactor": 2,
               "legendFormat": "",
               "refId": "A"
            }
         ],
         "title": "Overall Errors",
         "transparent": false,
         "type": "stat"
      },
      {
         "datasource": "$datasource",
         "description": "\n\nK8s monitoring template: _overallUtilizationCPU_",
         "fieldConfig": {
            "defaults": {
               "links": [
                  {
                     "title": "System Overview",
                     "url": "/d/cpuoverview?refresh=10s&var-datasource=$datasource&var-cluster=$cluster|&from=$__from&to=$__to&var-instance=All"
                  },
                  {
                     "title": "K8s Overview",
                     "url": "/d/cpunamespaceoverview?refresh=10s&var-datasource=$datasource&var-cluster=$cluster|&from=$__from&to=$__to"
                  }
               ],
               "mappings": [ ],
               "thresholds": {
                  "mode": "absolute",
                  "steps": [
                     {
                        "color": "#56a64b",
                        "value": null
                     },
                     {
                        "color": "#ff780a",
                        "value": 75
                     },
                     {
                        "color": "#e02f44",
                        "value": 90
                     }
                  ]
               },
               "unit": "percent"
            }
         },
         "gridPos": {
            "h": 3,
            "w": 3,
            "x": 0,
            "y": 17
         },
         "id": 25,
         "links": [ ],
         "options": {
            "colorMode": "background",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "auto",
            "reduceOptions": {
               "calcs": [
                  "mean"
               ],
               "fields": "",
               "values": false
            }
         },
         "pluginVersion": "7",
         "targets": [
            {
               "expr": "avg(round((1 - (avg(irate(node_cpu_seconds_total{cluster=~\"$cluster|\", job=~\"$job\", mode=\"idle\"}[5m]) * on(instance) group_left(nodename) (node_uname_info)) by (job, nodename) )) * 100))",
               "format": "time_series",
               "intervalFactor": 2,
               "legendFormat": "",
               "refId": "A"
            }
         ],
         "title": "Overall Utilization",
         "transparent": false,
         "type": "stat"
      },
      {
         "datasource": "$datasource",
         "description": "The percentage of the disk utilization is calculated using the fraction:\n```\n<space used>/(<space used> + <space free>)\n```\nThe value of <space free> is reduced by  5% of the available disk capacity, because   \nthe file system marks 5% of the available disk capacity as reserved. \nIf less than 5% is free, using the remaining reserved space requires root privileges.\nAny non-privileged users and processes are unable to write new data to the partition. See the list of explicitly ignored mount points and file systems [here](https://github.com/dNationCloud/kubernetes-monitoring-stack/blob/main/chart/values.yaml)\n\nK8s monitoring template: _overallUtilizationDisk_",
         "fieldConfig": {
            "defaults": {
               "links": [
                  {
                     "title": "System Overview",
                     "url": "/d/diskoverview?refresh=10s&var-datasource=$datasource&var-cluster=$cluster|&from=$__from&to=$__to&var-instance=All"
                  }
               ],
               "mappings": [ ],
               "thresholds": {
                  "mode": "absolute",
                  "steps": [
                     {
                        "color": "#56a64b",
                        "value": null
                     },
                     {
                        "color": "#ff780a",
                        "value": 75
                     },
                     {
                        "color": "#e02f44",
                        "value": 90
                     }
                  ]
               },
               "unit": "percent"
            }
         },
         "gridPos": {
            "h": 3,
            "w": 3,
            "x": 12,
            "y": 17
         },
         "id": 26,
         "links": [ ],
         "options": {
            "colorMode": "background",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "auto",
            "reduceOptions": {
               "calcs": [
                  "mean"
               ],
               "fields": "",
               "values": false
            }
         },
         "pluginVersion": "7",
         "targets": [
            {
               "expr": "avg(round((sum(node_filesystem_size_bytes{cluster=~\"$cluster|\", job=~\"$job\"} * on(instance) group_left(nodename) (node_uname_info)) by (job, nodename, device) - sum(node_filesystem_free_bytes{cluster=~\"$cluster|\", job=~\"$job\"} * on(instance) group_left(nodename) (node_uname_info)) by (job, nodename, device)) / ((sum(node_filesystem_size_bytes{cluster=~\"$cluster|\", job=~\"$job\"} * on(instance) group_left(nodename) (node_uname_info)) by (job, nodename, device) - sum(node_filesystem_free_bytes{cluster=~\"$cluster|\", job=~\"$job\"} * on(instance) group_left(nodename) (node_uname_info)) by (job, nodename, device)) + sum(node_filesystem_avail_bytes{cluster=~\"$cluster|\", job=~\"$job\"} * on(instance) group_left(nodename) (node_uname_info)) by (job, nodename, device)) * 100 > 0))",
               "format": "time_series",
               "intervalFactor": 2,
               "legendFormat": "",
               "refId": "A"
            }
         ],
         "title": "Overall Utilization",
         "transparent": false,
         "type": "stat"
      },
      {
         "datasource": "$datasource",
         "description": "The percentage of the memory utilization is calculated by:\n```\n1 - (<memory available>/<memory total>)\n```\n\nK8s monitoring template: _overallUtilizationRAM_",
         "fieldConfig": {
            "defaults": {
               "links": [
                  {
                     "title": "System Overview",
                     "url": "/d/memoryoverview?refresh=10s&var-datasource=$datasource&var-cluster=$cluster|&from=$__from&to=$__to&var-instance=All"
                  },
                  {
                     "title": "K8s Overview",
                     "url": "/d/memorynamespaceoverview?refresh=10s&var-datasource=$datasource&var-cluster=$cluster|&from=$__from&to=$__to"
                  }
               ],
               "mappings": [ ],
               "thresholds": {
                  "mode": "absolute",
                  "steps": [
                     {
                        "color": "#56a64b",
                        "value": null
                     },
                     {
                        "color": "#ff780a",
                        "value": 75
                     },
                     {
                        "color": "#e02f44",
                        "value": 90
                     }
                  ]
               },
               "unit": "percent"
            }
         },
         "gridPos": {
            "h": 3,
            "w": 3,
            "x": 6,
            "y": 17
         },
         "id": 27,
         "links": [ ],
         "options": {
            "colorMode": "background",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "auto",
            "reduceOptions": {
               "calcs": [
                  "mean"
               ],
               "fields": "",
               "values": false
            }
         },
         "pluginVersion": "7",
         "targets": [
            {
               "expr": "avg(round((1 - sum by (job, nodename) (node_memory_MemAvailable_bytes{cluster=~\"$cluster|\", job=~\"$job\"} * on(instance) group_left(nodename) (node_uname_info)) / sum by (job, nodename) (node_memory_MemTotal_bytes{cluster=~\"$cluster|\", job=~\"$job\"} * on(instance) group_left(nodename) (node_uname_info))) * 100))",
               "format": "time_series",
               "intervalFactor": 2,
               "legendFormat": "",
               "refId": "A"
            }
         ],
         "title": "Overall Utilization",
         "transparent": false,
         "type": "stat"
      },
      {
         "datasource": "$datasource",
         "description": "\n\nK8s monitoring template: _proxyHealth_",
         "fieldConfig": {
            "defaults": {
               "links": [
                  {
                     "title": "K8s Overview",
                     "url": "/d/proxy?refresh=10s&var-datasource=$datasource&var-cluster=$cluster|&from=$__from&to=$__to"
                  }
               ],
               "mappings": [ ],
               "thresholds": {
                  "mode": "absolute",
                  "steps": [
                     {
                        "color": "#e02f44",
                        "value": null
                     },
                     {
                        "color": "#ff780a",
                        "value": 95
                     },
                     {
                        "color": "#56a64b",
                        "value": 99
                     }
                  ]
               },
               "unit": "percent"
            }
         },
         "gridPos": {
            "h": 3,
            "w": 4,
            "x": 16,
            "y": 12
         },
         "id": 28,
         "links": [ ],
         "options": {
            "colorMode": "background",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "auto",
            "reduceOptions": {
               "calcs": [
                  "mean"
               ],
               "fields": "",
               "values": false
            }
         },
         "pluginVersion": "7",
         "targets": [
            {
               "expr": "(sum(up{cluster=~\"$cluster|\", job=\"kube-proxy\"}) / count(up{cluster=~\"$cluster|\", job=\"kube-proxy\"})) * 100",
               "format": "time_series",
               "intervalFactor": 2,
               "legendFormat": "",
               "refId": "A"
            }
         ],
         "title": "Proxy",
         "transparent": false,
         "type": "stat"
      },
      {
         "datasource": "$datasource",
         "description": "\n\nK8s monitoring template: _pvcBound_",
         "fieldConfig": {
            "defaults": {
               "links": [
                  {
                     "title": "K8s Overview",
                     "url": "/d/pvcoverview?refresh=10s&var-datasource=$datasource&var-cluster=$cluster|&from=$__from&to=$__to"
                  }
               ],
               "mappings": [
                  {
                     "id": 0,
                     "text": "-",
                     "type": 1,
                     "value": -1
                  }
               ],
               "thresholds": {
                  "mode": "absolute",
                  "steps": [
                     {
                        "color": "#000000",
                        "value": null
                     },
                     {
                        "color": "#e02f44",
                        "value": 0
                     },
                     {
                        "color": "#ff780a",
                        "value": 95
                     },
                     {
                        "color": "#56a64b",
                        "value": 99
                     }
                  ]
               },
               "unit": "percent"
            }
         },
         "gridPos": {
            "h": 3,
            "w": 3,
            "x": 18,
            "y": 8
         },
         "id": 29,
         "links": [ ],
         "options": {
            "colorMode": "background",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "auto",
            "reduceOptions": {
               "calcs": [
                  "mean"
               ],
               "fields": "",
               "values": false
            }
         },
         "pluginVersion": "7",
         "targets": [
            {
               "expr": "round(sum(kube_persistentvolumeclaim_status_phase{cluster=~\"$cluster|\", phase=\"Bound\"}) / (\nsum(kube_persistentvolumeclaim_status_phase{cluster=~\"$cluster|\", phase=\"Bound\"}) + sum(kube_persistentvolumeclaim_status_phase{cluster=~\"$cluster|\", phase=\"Pending\"}) +\nsum(kube_persistentvolumeclaim_status_phase{cluster=~\"$cluster|\", phase=\"Lost\"})\n) * 100) OR on() vector(-1)",
               "format": "time_series",
               "intervalFactor": 2,
               "legendFormat": "",
               "refId": "A"
            }
         ],
         "title": "PVC Bound",
         "transparent": false,
         "type": "stat"
      },
      {
         "datasource": "$datasource",
         "description": "\n\nK8s monitoring template: _runningContainers_",
         "fieldConfig": {
            "defaults": {
               "links": [
                  {
                     "title": "K8s Overview",
                     "url": "/d/containeroverview?refresh=10s&var-datasource=$datasource&var-cluster=$cluster|&from=$__from&to=$__to"
                  }
               ],
               "mappings": [ ],
               "thresholds": {
                  "mode": "absolute",
                  "steps": [
                     {
                        "color": "#e02f44",
                        "value": null
                     },
                     {
                        "color": "#ff780a",
                        "value": 95
                     },
                     {
                        "color": "#56a64b",
                        "value": 99
                     }
                  ]
               },
               "unit": "percent"
            }
         },
         "gridPos": {
            "h": 3,
            "w": 6,
            "x": 12,
            "y": 8
         },
         "id": 30,
         "links": [ ],
         "options": {
            "colorMode": "background",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "auto",
            "reduceOptions": {
               "calcs": [
                  "mean"
               ],
               "fields": "",
               "values": false
            }
         },
         "pluginVersion": "7",
         "targets": [
            {
               "expr": "round(sum(kube_pod_container_status_running{cluster=~\"$cluster|\"}) / (sum(kube_pod_container_status_running{cluster=~\"$cluster|\"}) + sum(kube_pod_container_status_terminated_reason{cluster=~\"$cluster|\", reason!=\"Completed\"}) + sum(kube_pod_container_status_waiting{cluster=~\"$cluster|\"})) * 100)",
               "format": "time_series",
               "intervalFactor": 2,
               "legendFormat": "",
               "refId": "A"
            }
         ],
         "title": "Running Containers",
         "transparent": false,
         "type": "stat"
      },
      {
         "datasource": "$datasource",
         "description": "\n\nK8s monitoring template: _runningPods_",
         "fieldConfig": {
            "defaults": {
               "links": [
                  {
                     "title": "K8s Overview",
                     "url": "/d/podoverview?refresh=10s&var-datasource=$datasource&var-cluster=$cluster|&from=$__from&to=$__to"
                  }
               ],
               "mappings": [ ],
               "thresholds": {
                  "mode": "absolute",
                  "steps": [
                     {
                        "color": "#e02f44",
                        "value": null
                     },
                     {
                        "color": "#ff780a",
                        "value": 95
                     },
                     {
                        "color": "#56a64b",
                        "value": 99
                     }
                  ]
               },
               "unit": "percent"
            }
         },
         "gridPos": {
            "h": 3,
            "w": 6,
            "x": 12,
            "y": 5
         },
         "id": 31,
         "links": [ ],
         "options": {
            "colorMode": "background",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "auto",
            "reduceOptions": {
               "calcs": [
                  "mean"
               ],
               "fields": "",
               "values": false
            }
         },
         "pluginVersion": "7",
         "targets": [
            {
               "expr": "round(sum(kube_pod_status_phase{cluster=~\"$cluster|\", phase=\"Running\"}) / (sum(kube_pod_status_phase{cluster=~\"$cluster|\", phase=\"Running\"}) + sum(kube_pod_status_phase{cluster=~\"$cluster|\", phase=\"Pending\"}) + sum(kube_pod_status_phase{cluster=~\"$cluster|\", phase=\"Failed\"}) + sum(kube_pod_status_phase{cluster=~\"$cluster|\", phase=\"Unknown\"})) * 100)",
               "format": "time_series",
               "intervalFactor": 2,
               "legendFormat": "",
               "refId": "A"
            }
         ],
         "title": "Running Pods",
         "transparent": false,
         "type": "stat"
      },
      {
         "datasource": "$datasource",
         "description": "\n\nK8s monitoring template: _runningStatefulSets_",
         "fieldConfig": {
            "defaults": {
               "links": [
                  {
                     "title": "K8s Overview",
                     "url": "/d/statefulsetoverview?refresh=10s&var-datasource=$datasource&var-cluster=$cluster|&from=$__from&to=$__to"
                  }
               ],
               "mappings": [ ],
               "thresholds": {
                  "mode": "absolute",
                  "steps": [
                     {
                        "color": "#e02f44",
                        "value": null
                     },
                     {
                        "color": "#ff780a",
                        "value": 95
                     },
                     {
                        "color": "#56a64b",
                        "value": 99
                     }
                  ]
               },
               "unit": "percent"
            }
         },
         "gridPos": {
            "h": 3,
            "w": 6,
            "x": 6,
            "y": 5
         },
         "id": 32,
         "links": [ ],
         "options": {
            "colorMode": "background",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "auto",
            "reduceOptions": {
               "calcs": [
                  "mean"
               ],
               "fields": "",
               "values": false
            }
         },
         "pluginVersion": "7",
         "targets": [
            {
               "expr": "round(sum(kube_statefulset_status_replicas_ready{cluster=~\"$cluster|\"}) / sum(kube_statefulset_status_replicas{cluster=~\"$cluster|\"}) * 100)",
               "format": "time_series",
               "intervalFactor": 2,
               "legendFormat": "",
               "refId": "A"
            }
         ],
         "title": "Running StatefulSets",
         "transparent": false,
         "type": "stat"
      },
      {
         "datasource": "$datasource",
         "description": "\n\nK8s monitoring template: _schedulerHealth_",
         "fieldConfig": {
            "defaults": {
               "links": [
                  {
                     "title": "K8s Overview",
                     "url": "/d/scheduler?refresh=10s&var-datasource=$datasource&var-cluster=$cluster|&from=$__from&to=$__to"
                  }
               ],
               "mappings": [ ],
               "thresholds": {
                  "mode": "absolute",
                  "steps": [
                     {
                        "color": "#e02f44",
                        "value": null
                     },
                     {
                        "color": "#ff780a",
                        "value": 95
                     },
                     {
                        "color": "#56a64b",
                        "value": 99
                     }
                  ]
               },
               "unit": "percent"
            }
         },
         "gridPos": {
            "h": 3,
            "w": 4,
            "x": 20,
            "y": 12
         },
         "id": 33,
         "links": [ ],
         "options": {
            "colorMode": "background",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "auto",
            "reduceOptions": {
               "calcs": [
                  "mean"
               ],
               "fields": "",
               "values": false
            }
         },
         "pluginVersion": "7",
         "targets": [
            {
               "expr": "(sum(up{cluster=~\"$cluster|\", job=\"kube-scheduler\"}) / count(up{cluster=~\"$cluster|\", job=\"kube-scheduler\"})) * 100",
               "format": "time_series",
               "intervalFactor": 2,
               "legendFormat": "",
               "refId": "A"
            }
         ],
         "title": "Scheduler",
         "transparent": false,
         "type": "stat"
      },
      {
         "datasource": "$datasource",
         "description": "\n\nK8s monitoring template: _succeededJobs_",
         "fieldConfig": {
            "defaults": {
               "links": [
                  {
                     "title": "K8s Overview",
                     "url": "/d/joboverview?refresh=10s&var-datasource=$datasource&var-cluster=$cluster|&from=$__from&to=$__to"
                  }
               ],
               "mappings": [
                  {
                     "id": 0,
                     "text": "-",
                     "type": 1,
                     "value": -1
                  }
               ],
               "thresholds": {
                  "mode": "absolute",
                  "steps": [
                     {
                        "color": "#000000",
                        "value": null
                     },
                     {
                        "color": "#e02f44",
                        "value": 0
                     },
                     {
                        "color": "#ff780a",
                        "value": 95
                     },
                     {
                        "color": "#56a64b",
                        "value": 99
                     }
                  ]
               },
               "unit": "percent"
            }
         },
         "gridPos": {
            "h": 3,
            "w": 6,
            "x": 18,
            "y": 5
         },
         "id": 34,
         "links": [ ],
         "options": {
            "colorMode": "background",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "auto",
            "reduceOptions": {
               "calcs": [
                  "mean"
               ],
               "fields": "",
               "values": false
            }
         },
         "pluginVersion": "7",
         "targets": [
            {
               "expr": "round(sum(kube_job_status_succeeded{cluster=~\"$cluster|\"}) / (sum(kube_job_status_succeeded{cluster=~\"$cluster|\"}) + sum(kube_job_status_failed{cluster=~\"$cluster|\"})) * 100) OR on() vector(-1)",
               "format": "time_series",
               "intervalFactor": 2,
               "legendFormat": "",
               "refId": "A"
            }
         ],
         "title": "Succeeded Jobs",
         "transparent": false,
         "type": "stat"
      },
      {
         "datasource": "$datasource",
         "description": "\n\nK8s monitoring template: _totalCores_",
         "fieldConfig": {
            "defaults": {
               "links": [ ],
               "mappings": [ ],
               "thresholds": {
                  "mode": "absolute",
                  "steps": [
                     {
                        "color": "#ffffff"
                     }
                  ]
               },
               "unit": "none"
            }
         },
         "gridPos": {
            "h": 2,
            "w": 3,
            "x": 3,
            "y": 20
         },
         "id": 35,
         "links": [ ],
         "options": {
            "colorMode": "value",
            "graphMode": "none",
            "justifyMode": "auto",
            "orientation": "auto",
            "reduceOptions": {
               "calcs": [
                  "mean"
               ],
               "fields": "",
               "values": false
            }
         },
         "pluginVersion": "7",
         "targets": [
            {
               "expr": "count(node_cpu_seconds_total{cluster=~\"$cluster\", job=~\"$job\", mode=\"system\"})",
               "format": "time_series",
               "intervalFactor": 2,
               "legendFormat": "",
               "refId": "A"
            }
         ],
         "title": "Total Cores",
         "transparent": false,
         "type": "stat"
      },
      {
         "datasource": "$datasource",
         "description": "\n\nK8s monitoring template: _totalDisk_",
         "fieldConfig": {
            "defaults": {
               "links": [ ],
               "mappings": [ ],
               "thresholds": {
                  "mode": "absolute",
                  "steps": [
                     {
                        "color": "#ffffff"
                     }
                  ]
               },
               "unit": "bytes"
            }
         },
         "gridPos": {
            "h": 2,
            "w": 3,
            "x": 15,
            "y": 20
         },
         "id": 36,
         "links": [ ],
         "options": {
            "colorMode": "value",
            "graphMode": "none",
            "justifyMode": "auto",
            "orientation": "auto",
            "reduceOptions": {
               "calcs": [
                  "mean"
               ],
               "fields": "",
               "values": false
            }
         },
         "pluginVersion": "7",
         "targets": [
            {
               "expr": "sum(node_filesystem_size_bytes{cluster=~\"$cluster\", job=~\"$job\"})",
               "format": "time_series",
               "intervalFactor": 2,
               "legendFormat": "",
               "refId": "A"
            }
         ],
         "title": "Total",
         "transparent": false,
         "type": "stat"
      },
      {
         "datasource": "$datasource",
         "description": "\n\nK8s monitoring template: _totalRAM_",
         "fieldConfig": {
            "defaults": {
               "links": [ ],
               "mappings": [ ],
               "thresholds": {
                  "mode": "absolute",
                  "steps": [
                     {
                        "color": "#ffffff"
                     }
                  ]
               },
               "unit": "bytes"
            }
         },
         "gridPos": {
            "h": 2,
            "w": 3,
            "x": 9,
            "y": 20
         },
         "id": 37,
         "links": [ ],
         "options": {
            "colorMode": "value",
            "graphMode": "none",
            "justifyMode": "auto",
            "orientation": "auto",
            "reduceOptions": {
               "calcs": [
                  "mean"
               ],
               "fields": "",
               "values": false
            }
         },
         "pluginVersion": "7",
         "targets": [
            {
               "expr": "sum(node_memory_MemTotal_bytes{cluster=~\"$cluster\", job=~\"$job\"})",
               "format": "time_series",
               "intervalFactor": 2,
               "legendFormat": "",
               "refId": "A"
            }
         ],
         "title": "Total",
         "transparent": false,
         "type": "stat"
      },
      {
         "datasource": "$datasource",
         "description": "\n\nK8s monitoring template: _usedCores_",
         "fieldConfig": {
            "defaults": {
               "links": [ ],
               "mappings": [ ],
               "thresholds": {
                  "mode": "absolute",
                  "steps": [
                     {
                        "color": "#ffffff"
                     }
                  ]
               },
               "unit": "none"
            }
         },
         "gridPos": {
            "h": 2,
            "w": 3,
            "x": 0,
            "y": 20
         },
         "id": 38,
         "links": [ ],
         "options": {
            "colorMode": "value",
            "graphMode": "none",
            "justifyMode": "auto",
            "orientation": "auto",
            "reduceOptions": {
               "calcs": [
                  "mean"
               ],
               "fields": "",
               "values": false
            }
         },
         "pluginVersion": "7",
         "targets": [
            {
               "expr": "(1 - (avg(irate(node_cpu_seconds_total{cluster=~\"$cluster\", job=~\"$job\", mode=\"idle\"}[5m])))) * count(node_cpu_seconds_total{cluster=~\"$cluster\", job=~\"$job\", mode=\"system\"})",
               "format": "time_series",
               "intervalFactor": 2,
               "legendFormat": "",
               "refId": "A"
            }
         ],
         "title": "Used Cores",
         "transparent": false,
         "type": "stat"
      },
      {
         "datasource": "$datasource",
         "description": "\n\nK8s monitoring template: _usedDisk_",
         "fieldConfig": {
            "defaults": {
               "links": [ ],
               "mappings": [ ],
               "thresholds": {
                  "mode": "absolute",
                  "steps": [
                     {
                        "color": "#ffffff"
                     }
                  ]
               },
               "unit": "bytes"
            }
         },
         "gridPos": {
            "h": 2,
            "w": 3,
            "x": 12,
            "y": 20
         },
         "id": 39,
         "links": [ ],
         "options": {
            "colorMode": "value",
            "graphMode": "none",
            "justifyMode": "auto",
            "orientation": "auto",
            "reduceOptions": {
               "calcs": [
                  "mean"
               ],
               "fields": "",
               "values": false
            }
         },
         "pluginVersion": "7",
         "targets": [
            {
               "expr": "sum(node_filesystem_size_bytes{cluster=~\"$cluster\", job=~\"$job\"}) * ((\navg(\n(sum(node_filesystem_size_bytes{cluster=~\"$cluster\", job=~\"$job\"}) by (device) - sum(node_filesystem_free_bytes{cluster=~\"$cluster\", job=~\"$job\"}) by (device)) /\n(sum(node_filesystem_size_bytes{cluster=~\"$cluster\", job=~\"$job\"}) by (device) - sum(node_filesystem_free_bytes{cluster=~\"$cluster\", job=~\"$job\"}) by (device) +\nsum(node_filesystem_avail_bytes{cluster=~\"$cluster\", job=~\"$job\"}) by (device)) > 0\n)))",
               "format": "time_series",
               "intervalFactor": 2,
               "legendFormat": "",
               "refId": "A"
            }
         ],
         "title": "Used",
         "transparent": false,
         "type": "stat"
      },
      {
         "datasource": "$datasource",
         "description": "\n\nK8s monitoring template: _usedRAM_",
         "fieldConfig": {
            "defaults": {
               "links": [ ],
               "mappings": [ ],
               "thresholds": {
                  "mode": "absolute",
                  "steps": [
                     {
                        "color": "#ffffff"
                     }
                  ]
               },
               "unit": "bytes"
            }
         },
         "gridPos": {
            "h": 2,
            "w": 3,
            "x": 6,
            "y": 20
         },
         "id": 40,
         "links": [ ],
         "options": {
            "colorMode": "value",
            "graphMode": "none",
            "justifyMode": "auto",
            "orientation": "auto",
            "reduceOptions": {
               "calcs": [
                  "mean"
               ],
               "fields": "",
               "values": false
            }
         },
         "pluginVersion": "7",
         "targets": [
            {
               "expr": "sum(node_memory_MemTotal_bytes{cluster=~\"$cluster\", job=~\"$job\"}) * (((1 - sum(node_memory_MemAvailable_bytes{cluster=~\"$cluster\", job=~\"$job\"}) / sum(node_memory_MemTotal_bytes{cluster=~\"$cluster\", job=~\"$job\"}))))",
               "format": "time_series",
               "intervalFactor": 2,
               "legendFormat": "",
               "refId": "A"
            }
         ],
         "title": "Used",
         "transparent": false,
         "type": "stat"
      }
   ],
   "refresh": "10s",
   "rows": [ ],
   "schemaVersion": 14,
   "style": "dark",
   "tags": [
      "k8s",
      "monitoring",
      "L1"
   ],
   "templating": {
      "list": [
         {
            "current": { },
            "hide": 0,
            "label": "Datasource",
            "name": "datasource",
            "options": [ ],
            "query": "prometheus",
            "refresh": 1,
            "regex": "",
            "type": "datasource"
         },
         {
            "current": { },
            "hide": 2,
            "label": "AlertManager",
            "name": "alertmanager",
            "options": [ ],
            "query": "camptocamp-prometheus-alertmanager-datasource",
            "refresh": 1,
            "regex": "",
            "type": "datasource"
         },
         {
            "allValue": null,
            "current": { },
            "datasource": "$datasource",
            "hide": 2,
            "includeAll": false,
            "label": "Cluster",
            "multi": false,
            "name": "cluster",
            "options": [ ],
            "query": "label_values(kube_node_info, cluster)",
            "refresh": 2,
            "regex": "",
            "sort": 5,
            "tagValuesQuery": "",
            "tags": [ ],
            "tagsQuery": "",
            "type": "query",
            "useTags": false
         },
         {
            "allValue": null,
            "current": { },
            "datasource": "$datasource",
            "hide": 2,
            "includeAll": false,
            "label": "Job",
            "multi": false,
            "name": "job",
            "options": [ ],
            "query": "label_values(node_exporter_build_info{cluster=~\"$cluster\", pod!~\"\"}, job)",
            "refresh": 2,
            "regex": "",
            "sort": 5,
            "tagValuesQuery": "",
            "tags": [ ],
            "tagsQuery": "",
            "type": "query",
            "useTags": false
         },
         {
            "current": { },
            "hide": 2,
            "label": "Logs datasource",
            "name": "datasource_logs",
            "options": [ ],
            "query": "loki",
            "refresh": 1,
            "regex": "",
            "type": "datasource"
         }
      ]
   },
   "time": {
      "from": "now-5m",
      "to": "now"
   },
   "timepicker": {
      "refresh_intervals": [
         "5s",
         "10s",
         "30s",
         "1m",
         "5m",
         "15m",
         "30m",
         "1h",
         "2h",
         "1d"
      ],
      "time_options": [
         "5m",
         "15m",
         "1h",
         "6h",
         "12h",
         "24h",
         "2d",
         "7d",
         "30d"
      ]
   },
   "timezone": "browser",
   "title": "Kubernetes Monitoring K8sCluster",
   "uid": "k8smonitoringk8scluster",
   "version": 0
}
